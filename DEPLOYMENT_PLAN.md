# üöÄ –ü–ª–∞–Ω –¥–µ–ø–ª–æ—è AI Chat Platform

**–î–∞—Ç–∞:** 2026-02-11
**–ü—Ä–æ–µ–∫—Ç:** AI Chat Platform (Monorepo Turborepo)
**–°—Ç–µ–∫:** Next.js 15, Fastify API, PostgreSQL (Neon), OpenRouter

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#—Ç–µ–∫—É—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–í–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–ø–ª–æ—è](#–≤–∞—Ä–∏–∞–Ω—Ç—ã-–¥–µ–ø–ª–æ—è)
3. [–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –≤–∞—Ä–∏–∞–Ω—Ç](#—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π-–≤–∞—Ä–∏–∞–Ω—Ç)
4. [–î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω](#–¥–µ—Ç–∞–ª—å–Ω—ã–π-–ø–ª–∞–Ω)
5. [–°—Ç–æ–∏–º–æ—Å—Ç—å](#—Å—Ç–æ–∏–º–æ—Å—Ç—å)
6. [–ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º](#—á–µ–∫-–ª–∏—Å—Ç-–ø–µ—Ä–µ–¥-–¥–µ–ø–ª–æ–µ–º)

---

## üèóÔ∏è –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

```
ai-chat-platform/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îî‚îÄ‚îÄ web/              # Next.js 15 Frontend (SSR + SSG)
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ api/              # Fastify Backend API
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ database/         # Drizzle ORM + PostgreSQL
‚îÇ   ‚îî‚îÄ‚îÄ shared/           # –û–±—â–∏–µ —Ç–∏–ø—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îî‚îÄ‚îÄ –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
    ‚îú‚îÄ‚îÄ PostgreSQL        # Neon Database (—É–∂–µ –≤ –æ–±–ª–∞–∫–µ)
    ‚îî‚îÄ‚îÄ OpenRouter API    # AI –º–æ–¥–µ–ª–∏ (–≤–Ω–µ—à–Ω–∏–π API)
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é:

- **Node.js:** v18+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è v20+)
- **Package Manager:** pnpm
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL 14+ (—É–∂–µ –µ—Å—Ç—å Neon)
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
  - `DATABASE_URL` - Neon PostgreSQL
  - `OPENROUTER_API_KEY` - OpenRouter
  - `JWT_SECRET` - –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  - `FRONTEND_URL` - URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
  - `WEB_URL` - –¥–ª—è OpenRouter referrer

---

## üéØ –í–∞—Ä–∏–∞–Ω—Ç—ã –¥–µ–ø–ª–æ—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: Vercel + Railway (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø) ‚≠ê

**–î–ª—è –∫–æ–≥–æ:** –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç, –º–∏–Ω–∏–º—É–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- **Frontend (Next.js):** Vercel
- **Backend (API):** Railway
- **Database:** Neon (—É–∂–µ –µ—Å—Ç—å)

**–ü–ª—é—Å—ã:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –∏–∑ GitHub
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- ‚úÖ CDN –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (Vercel Edge Network)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (5-10 –º–∏–Ω—É—Ç)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Preview –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ PR
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier –¥–æ—Å—Ç—É–ø–µ–Ω

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ tier
- ‚ö†Ô∏è Vendor lock-in (—Å–ª–æ–∂–Ω–µ–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å)

**–°—Ç–æ–∏–º–æ—Å—Ç—å:**
- Vercel: $0-20/–º–µ—Å—è—Ü (Hobby/Pro)
- Railway: $5-20/–º–µ—Å—è—Ü (–ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏)
- Neon: $0-19/–º–µ—Å—è—Ü (Free tier –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω –¥–ª—è —Å—Ç–∞—Ä—Ç–∞)
- **–ò—Ç–æ–≥–æ: $5-60/–º–µ—Å—è—Ü**

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: VPS (DigitalOcean/Hetzner) —Å Docker

**–î–ª—è –∫–æ–≥–æ:** –ù—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å, –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- **VPS:** DigitalOcean Droplet / Hetzner Cloud
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker + Docker Compose
- **Reverse Proxy:** Nginx
- **SSL:** Let's Encrypt (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
- **Database:** Neon (–≤–Ω–µ—à–Ω–∏–π)

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–µ—Ä–≤–µ—Ä–æ–º
- ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
- ‚úÖ –ú–æ–∂–Ω–æ —Ö–æ—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å (–¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–∞)
- ‚úÖ –ù–µ—Ç vendor lock-in
- ‚úÖ SSH –¥–æ—Å—Ç—É–ø –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD –≤—Ä—É—á–Ω—É—é
- ‚ö†Ô∏è –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚ö†Ô∏è Backup –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–∞–º–æ–º—É

**–°—Ç–æ–∏–º–æ—Å—Ç—å:**
- VPS (4GB RAM): $12-24/–º–µ—Å—è—Ü
- –î–æ–º–µ–Ω: $10-15/–≥–æ–¥
- Neon: $0-19/–º–µ—Å—è—Ü
- **–ò—Ç–æ–≥–æ: $12-45/–º–µ—Å—è—Ü**

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: Full PaaS (Render.com)

**–î–ª—è –∫–æ–≥–æ:** –•–æ—á–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ—Ç—É VPS + –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é Vercel

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- **Frontend + Backend:** Render.com (web services)
- **Database:** Neon –∏–ª–∏ Render PostgreSQL

**–ü–ª—é—Å—ã:**
- ‚úÖ –í—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –∏–∑ GitHub
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏–π
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ cron jobs
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω–µ–µ —á–µ–º Vercel –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- ‚ö†Ô∏è Free tier –∑–∞—Å—ã–ø–∞–µ—Ç –ø—Ä–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- ‚ö†Ô∏è –î–æ—Ä–æ–∂–µ VPS –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏

**–°—Ç–æ–∏–º–æ—Å—Ç—å:**
- Render Web Services: $0-21/–º–µ—Å—è—Ü (2 —Å–µ—Ä–≤–∏—Å–∞)
- Neon: $0-19/–º–µ—Å—è—Ü
- **–ò—Ç–æ–≥–æ: $0-40/–º–µ—Å—è—Ü**

---

### –í–∞—Ä–∏–∞–Ω—Ç 4: AWS/GCP/Azure (–¥–ª—è —ç–Ω—Ç–µ—Ä–ø—Ä–∞–π–∑–∞)

**–î–ª—è –∫–æ–≥–æ:** –ö—Ä—É–ø–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, –Ω—É–∂–Ω—ã SLA

**–ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ –∏–∑-–∑–∞:**
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –í—ã—Å–æ–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å ($100+/–º–µ—Å—è—Ü –º–∏–Ω–∏–º—É–º)
- –¢—Ä–µ–±—É–µ—Ç—Å—è DevOps —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç

---

## ‚≠ê –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô –í–ê–†–ò–ê–ù–¢

### Vercel + Railway (Hybrid)

**–ü–æ—á–µ–º—É —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –ª—É—á—à–∏–π –¥–ª—è —Å—Ç–∞—Ä—Ç–∞:**

1. **Vercel –¥–ª—è Next.js** - –∏–¥–µ–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è Next.js
   - –°–æ–∑–¥–∞–Ω–∞ —Ç–æ–π –∂–µ –∫–æ–º–∞–Ω–¥–æ–π
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
   - Edge Functions –¥–ª—è API routes
   - ISR (Incremental Static Regeneration)

2. **Railway –¥–ª—è API** - –ø—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π Node.js
   - –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –∏–∑ GitHub
   - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π PostgreSQL (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
   - –ü—Ä–æ—Å—Ç—ã–µ environment variables
   - Metrics –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

3. **Neon –¥–ª—è –±–∞–∑—ã** - —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!
   - Serverless PostgreSQL
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier –¥–ª—è —Å—Ç–∞—Ä—Ç–∞

---

## üìù –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –¥–µ–ø–ª–æ—è (Vercel + Railway)

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (30 –º–∏–Ω—É—Ç)

#### 1.1 –°–æ–∑–¥–∞—Ç—å production –æ–∫—Ä—É–∂–µ–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞—Ç—å production environment —Ñ–∞–π–ª—ã
cp apps/web/.env.local apps/web/.env.production
cp services/api/.env services/api/.env.production
```

#### 1.2 –û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**apps/web/.env.production:**
```env
NEXT_PUBLIC_API_URL=https://api.your-domain.com
```

**services/api/.env.production:**
```env
DATABASE_URL=postgresql://... (–≤–∞—à Neon URL)
OPENROUTER_API_KEY=sk-or-v1-...
JWT_SECRET=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–º–∏–Ω–∏–º—É–º-32-—Å–∏–º–≤–æ–ª–∞
FRONTEND_URL=https://your-domain.com
WEB_URL=https://your-domain.com
PORT=3001
NODE_ENV=production
```

#### 1.3 –î–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è production

**–°–æ–∑–¥–∞—Ç—å:** `package.json` –≤ –∫–æ—Ä–Ω–µ (–µ—Å–ª–∏ –Ω–µ—Ç)
```json
{
  "scripts": {
    "build": "turbo run build",
    "start:web": "cd apps/web && pnpm start",
    "start:api": "cd services/api && pnpm start"
  }
}
```

#### 1.4 –°–æ–∑–¥–∞—Ç—å Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è Railway)

**–°–æ–∑–¥–∞—Ç—å:** `Dockerfile.api`
```dockerfile
FROM node:20-alpine AS base
RUN npm install -g pnpm turbo

FROM base AS builder
WORKDIR /app
COPY . .
RUN turbo prune --scope=@ai-chat/api --docker

FROM base AS installer
WORKDIR /app
COPY --from=builder /app/out/json/ .
COPY --from=builder /app/out/pnpm-lock.yaml ./pnpm-lock.yaml
RUN pnpm install --frozen-lockfile

COPY --from=builder /app/out/full/ .
RUN pnpm turbo run build --filter=@ai-chat/api

FROM base AS runner
WORKDIR /app
COPY --from=installer /app .
EXPOSE 3001
CMD ["pnpm", "start:api"]
```

---

### –≠—Ç–∞–ø 2: –î–µ–ø–ª–æ–π Frontend –Ω–∞ Vercel (10 –º–∏–Ω—É—Ç)

#### 2.1 –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ Vercel
- –ó–∞–π—Ç–∏ –Ω–∞ https://vercel.com
- Sign up —á–µ—Ä–µ–∑ GitHub

#### 2.2 –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
1. New Project
2. Import Git Repository
3. –í—ã–±—Ä–∞—Ç—å `ai-chat-platform`

#### 2.3 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Build Settings
```
Framework Preset: Next.js
Root Directory: apps/web
Build Command: cd ../.. && pnpm install && pnpm turbo run build --filter=@ai-chat/web
Output Directory: .next
Install Command: pnpm install
Node Version: 20.x
```

#### 2.4 –î–æ–±–∞–≤–∏—Ç—å Environment Variables
```
NEXT_PUBLIC_API_URL=https://api.your-domain.com (–≤—Ä–µ–º–µ–Ω–Ω–æ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º)
```

#### 2.5 Deploy!
- –ù–∞–∂–∞—Ç—å "Deploy"
- –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (2-3 –º–∏–Ω—É—Ç—ã)
- –ü–æ–ª—É—á–∏—Ç—å URL: `your-project.vercel.app`

---

### –≠—Ç–∞–ø 3: –î–µ–ø–ª–æ–π Backend –Ω–∞ Railway (15 –º–∏–Ω—É—Ç)

#### 3.1 –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ Railway
- –ó–∞–π—Ç–∏ –Ω–∞ https://railway.app
- Sign up —á–µ—Ä–µ–∑ GitHub

#### 3.2 –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
1. "New Project"
2. "Deploy from GitHub repo"
3. –í—ã–±—Ä–∞—Ç—å `ai-chat-platform`

#### 3.3 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ—Ä–≤–∏—Å
```
Root Directory: services/api
Build Command: cd ../.. && pnpm install && pnpm turbo run build --filter=@ai-chat/api
Start Command: cd services/api && pnpm start
```

#### 3.4 –î–æ–±–∞–≤–∏—Ç—å Environment Variables
```
DATABASE_URL=postgresql://... (–≤–∞—à Neon)
OPENROUTER_API_KEY=sk-or-v1-...
JWT_SECRET=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-32-—Å–∏–º–≤–æ–ª–∞
FRONTEND_URL=https://your-project.vercel.app
WEB_URL=https://your-project.vercel.app
PORT=3001
NODE_ENV=production
```

#### 3.5 –ü–æ–ª—É—á–∏—Ç—å Public URL
- Railway —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç URL: `your-service.up.railway.app`

#### 3.6 –û–±–Ω–æ–≤–∏—Ç—å Frontend
- –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ Vercel
- Settings ‚Üí Environment Variables
- –û–±–Ω–æ–≤–∏—Ç—å `NEXT_PUBLIC_API_URL=https://your-service.up.railway.app`
- Redeploy

---

### –≠—Ç–∞–ø 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, 20 –º–∏–Ω—É—Ç)

#### 4.1 –ö—É–ø–∏—Ç—å –¥–æ–º–µ–Ω
- Namecheap, GoDaddy, –∏–ª–∏ –ª—é–±–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: $10-15/–≥–æ–¥

#### 4.2 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (Vercel)
```
Type: CNAME
Name: @
Value: cname.vercel-dns.com

Type: CNAME
Name: www
Value: cname.vercel-dns.com
```

#### 4.3 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS –¥–ª—è API (Railway)
```
Type: CNAME
Name: api
Value: –≤–∞—à-railway-url
```

#### 4.4 –î–æ–±–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- **Vercel:** Settings ‚Üí Domains ‚Üí Add `your-domain.com`
- **Railway:** Settings ‚Üí Domains ‚Üí Add `api.your-domain.com`

#### 4.5 SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- Vercel –∏ Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø—É—Å—Ç—è—Ç Let's Encrypt SSL
- –û–∂–∏–¥–∞–Ω–∏–µ: 1-5 –º–∏–Ω—É—Ç

---

### –≠—Ç–∞–ø 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Neon (5 –º–∏–Ω—É—Ç)

#### 5.1 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å connection pooling
- Neon ‚Üí Settings ‚Üí Connection pooling: Enabled

#### 5.2 –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ —Å production DATABASE_URL
export DATABASE_URL="postgresql://..."
cd packages/database
pnpm db:push
```

#### 5.3 –°–æ–∑–¥–∞—Ç—å production –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∞–¥–º–∏–Ω–∞
node scripts/update-admin-role.ts
```

---

### –≠—Ç–∞–ø 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD (10 –º–∏–Ω—É—Ç)

#### 6.1 –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!
- Vercel –∏ Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ—è—Ç –ø—Ä–∏ push –≤ main

#### 6.2 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Preview –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **Vercel:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç preview –¥–ª—è –∫–∞–∂–¥–æ–≥–æ PR
- **Railway:** Settings ‚Üí Enable PR Deployments

#### 6.3 –°–æ–∑–¥–∞—Ç—å GitHub Actions –¥–ª—è —Ç–µ—Å—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–°–æ–∑–¥–∞—Ç—å:** `.github/workflows/test.yml`
```yaml
name: Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: pnpm/action-setup@v2
        with:
          version: 8
      - uses: actions/setup-node@v3
        with:
          node-version: 20
          cache: 'pnpm'
      - run: pnpm install
      - run: pnpm turbo run test
```

---

## üí∞ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

### –†–∞—Å—á–µ—Ç –Ω–∞ 1000 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/–º–µ—Å—è—Ü

| –í–∞—Ä–∏–∞–Ω—Ç | –°—Ç–∞—Ä—Ç–æ–≤–∞—è | –ß–µ—Ä–µ–∑ 3 –º–µ—Å—è—Ü–∞ | –ß–µ—Ä–µ–∑ –≥–æ–¥ |
|---------|-----------|----------------|-----------|
| **Vercel + Railway** | $5/–º–µ—Å | $20-40/–º–µ—Å | $50-100/–º–µ—Å |
| **VPS (DigitalOcean)** | $24/–º–µ—Å | $24-48/–º–µ—Å | $48-96/–º–µ—Å |
| **Render.com** | $0/–º–µ—Å | $21-42/–º–µ—Å | $42-84/–º–µ—Å |
| **AWS/GCP** | $100+/–º–µ—Å | $200+/–º–µ—Å | $500+/–º–µ—Å |

**–í—ã–≤–æ–¥:** Vercel + Railway –¥–µ—à–µ–≤–ª–µ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞, VPS –≤—ã–≥–æ–¥–Ω–µ–µ –ø—Ä–∏ —Ä–æ—Å—Ç–µ.

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] JWT_SECRET —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —É–Ω–∏–∫–∞–ª–µ–Ω (32+ —Å–∏–º–≤–æ–ª–æ–≤)
- [ ] DATABASE_URL –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–æ–ª–µ–π –≤ –∫–æ–¥–µ
- [ ] OPENROUTER_API_KEY –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è production –¥–æ–º–µ–Ω–∞
- [ ] Rate limiting –≤–∫–ª—é—á–µ–Ω

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] Next.js build —É—Å–ø–µ—à–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] API build —É—Å–ø–µ—à–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] Database migrations –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- [ ] Connection pooling –≤–∫–ª—é—á–µ–Ω –≤ Neon

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å–µ 7 –º–æ–¥–µ–ª–µ–π –¥–æ—Å—Ç—É–ø–Ω—ã
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç (GPT-4 Omni, Claude)
- [ ] Admin –ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è admin@test.com

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] Vercel Analytics –≤–∫–ª—é—á–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] Railway Metrics –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- [ ] Sentry –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üîÑ –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø–æ–∑–∂–µ)

### –ò–∑ Vercel + Railway ‚Üí VPS

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ VPS:**
   - –ö—É–ø–∏—Ç—å VPS (DigitalOcean, Hetzner)
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker, Nginx
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL (Let's Encrypt)

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Docker Compose:**
   - Frontend container (Next.js)
   - Backend container (Fastify)
   - Nginx reverse proxy

3. **–ú–∏–≥—Ä–∞—Ü–∏—è DNS:**
   - –û–±–Ω–æ–≤–∏—Ç—å A –∑–∞–ø–∏—Å–∏ –Ω–∞ IP VPS
   - –î–æ–∂–¥–∞—Ç—å—Å—è propagation (–¥–æ 48 —á–∞—Å–æ–≤)

4. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ:**
   - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ Neon (–º–µ–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ!)
   - –¢–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–µ–∑–∂–∞—é—Ç

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

- **Vercel Dashboard:** –ú–µ—Ç—Ä–∏–∫–∏, –ª–æ–≥–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **Railway Metrics:** CPU, Memory, Network
- **Neon Console:** Database queries, connections
- **Better Stack (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier):** Uptime monitoring

### Backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** Neon –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç backups
- **–ö–æ–¥:** GitHub (—É–∂–µ –µ—Å—Ç—å)
- **Env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:** –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ 1Password/LastPass

---

## üöÄ –ì–æ—Ç–æ–≤—ã –∫ –¥–µ–ø–ª–æ—é?

**–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç:**

1. **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (1 —á–∞—Å):** Vercel + Railway
2. **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å (3-4 —á–∞—Å–∞):** VPS —Å Docker
3. **–ó–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞ (1.5 —á–∞—Å–∞):** Render.com

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–Ω–∏—Ç–µ —Å **Vercel + Railway**, —á–µ—Ä–µ–∑ 3-6 –º–µ—Å—è—Ü–µ–≤ –ø—Ä–∏ —Ä–æ—Å—Ç–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ VPS.

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –°–∫–∞–∂–∏—Ç–µ –∫–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–±–∏—Ä–∞–µ—Ç–µ, –∏ —è –ø–æ–º–æ–≥—É —Å –¥–µ–ø–ª–æ–µ–º! üéØ
