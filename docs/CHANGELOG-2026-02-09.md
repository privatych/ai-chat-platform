# Changelog - 2026-02-09

## üêõ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (FST_ERR_CTP_BODY_TOO_LARGE)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å PDF/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–æ–≤
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —á–∞—Ç–∞—Ö –≤—ã–¥–∞–≤–∞–ª–∏ –æ—à–∏–±–∫—É "–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞"
- –û—à–∏–±–∫–∞: `Request body is too large (413)`

**–ü—Ä–∏—á–∏–Ω–∞:**
- Fastify –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä body –¥–æ 1MB
- Base64-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (10MB ‚Üí 13.3MB) –ø—Ä–µ–≤—ã—à–∞–ª–∏ –ª–∏–º–∏—Ç

**–†–µ—à–µ–Ω–∏–µ:**
- –£–≤–µ–ª–∏—á–µ–Ω `bodyLimit` –¥–æ 20MB –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Fastify
- –§–∞–π–ª: `services/api/src/app.ts`
- –¢–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–∞–π–ª—ã –¥–æ ~15MB –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

**–ö–æ–º–º–∏—Ç:** `fix(api): increase bodyLimit to 20MB for file uploads`

---

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ —á–∞—Ç–æ–≤ (FST_ERR_CTP_EMPTY_JSON_BODY)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —É–¥–∞–ª–∏—Ç—å —á–∞—Ç –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ
- –û—à–∏–±–∫–∞: `Body cannot be empty when content-type is set to 'application/json' (400)`

**–ü—Ä–∏—á–∏–Ω–∞:**
- API client –≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–ª –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Content-Type: application/json`
- DELETE –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –∏–º–µ—é—Ç body
- Fastify –≤–∏–¥–µ–ª –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–∂–∏–¥–∞–ª JSON body ‚Üí –æ—Ç–∫–ª–æ–Ω—è–ª –∑–∞–ø—Ä–æ—Å

**–†–µ—à–µ–Ω–∏–µ:**
- API client —Ç–µ–ø–µ—Ä—å –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç `Content-Type` –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –±–µ–∑ body
- –§–∞–π–ª: `apps/web/lib/api-client.ts:26-32`
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤:
  - `apps/web/app/chat/page.tsx:68-78`
  - `services/api/src/routes/chat/delete.ts:9-36`

**–ö–æ–º–º–∏—Ç:** `fix(api): remove Content-Type header for requests without body`

---

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ –º–æ–¥–µ–ª–∏ –±–µ–∑ vision

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü—Ä–∏ —Å–º–µ–Ω–µ –º–æ–¥–µ–ª–∏ —Å vision –Ω–∞ –º–æ–¥–µ–ª—å –±–µ–∑ vision, –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Å—Ç–∞–≤–∞–ª–∏—Å—å
- –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞: `Invalid content type. image_url is only supported by certain models (400)`

**–ü—Ä–∏—á–∏–Ω–∞:**
- Attachments –Ω–µ –æ—á–∏—â–∞–ª–∏—Å—å –ø—Ä–∏ —Å–º–µ–Ω–µ –º–æ–¥–µ–ª–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫ Gemini 2.0 Flash, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ GPT-3.5 Turbo –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω useEffect –≤ MessageInput –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–º–µ–Ω—ã –º–æ–¥–µ–ª–∏
- –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –º–æ–¥–µ–ª—å –±–µ–∑ vision - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è
- –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –º–æ–¥–µ–ª—å –±–µ–∑ file support - —Ñ–∞–π–ª—ã —É–¥–∞–ª—è—é—Ç—Å—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- –§–∞–π–ª: `apps/web/components/chat/MessageInput.tsx:34-51`

**–ö–æ–º–º–∏—Ç:** `fix(ui): auto-remove incompatible attachments on model change`

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏

### –ò–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –æ—Ç—á–µ—Ç–∞ (FILE_UPLOAD_FIX_REPORT.md)

**–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ base64 (–º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—Å–∏—Ç—å API –ª–∏–º–∏—Ç—ã)
- [ ] Progress bar –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
- [ ] PDF preview –≤ UI

**–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π file size limit (ENV var)
- [ ] –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- [ ] Token-aware context limit –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π

### –ù–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ API endpoints –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø–æ–¥–æ–±–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É context injection –≤ AI –ø—Ä–æ–º–ø—Ç–∞—Ö
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —á–∞—Ç–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É Projects CRUD –æ–ø–µ—Ä–∞—Ü–∏–π

---

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤:
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –ù–∞–∂–º–∏—Ç–µ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç"
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ PDF —Ñ–∞–π–ª (–¥–æ 10MB)
5. ‚úÖ –§–∞–π–ª –¥–æ–ª–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è

### –£–¥–∞–ª–µ–Ω–∏–µ —á–∞—Ç–æ–≤:
1. –í —Å–ø–∏—Å–∫–µ —á–∞—Ç–æ–≤ –≤—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π —á–∞—Ç
2. –ù–∞–∂–º–∏—Ç–µ —Ç—Ä–∏ —Ç–æ—á–∫–∏ ‚Üí "–£–¥–∞–ª–∏—Ç—å"
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ
4. ‚úÖ –ß–∞—Ç –¥–æ–ª–∂–µ–Ω –∏—Å—á–µ–∑–Ω—É—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —á–∞—Ç–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±–æ–π —á–∞—Ç
2. –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "–ß—Ç–æ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏?"
4. ‚úÖ AI –¥–æ–ª–∂–µ–Ω –æ–ø–∏—Å–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –°–º–µ–Ω–∞ –º–æ–¥–µ–ª–∏ —Å attachments:
1. –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å —Å vision (Gemini 2.0 Flash)
2. –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –º–æ–¥–µ–ª—å –Ω–∞ GPT-3.5 Turbo (–±–µ–∑ vision)
4. ‚úÖ –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É–¥–∞–ª–µ–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
5. ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏—Å—á–µ–∑–Ω—É—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –ë–∞–≥–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | 3 |
| –§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ | 4 |
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | +43, -4 |
| –ö–æ–º–º–∏—Ç–æ–≤ | 4 |
| –í—Ä–µ–º—è –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ | ~60 –º–∏–Ω—É—Ç |

---

## üîÑ –°–µ—Ä–≤–µ—Ä—ã

- **Frontend:** http://localhost:3000
- **API:** http://localhost:3001

–û–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.
