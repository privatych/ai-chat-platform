# –†–∞–±–æ—á–∞—è —Å–µ—Å—Å–∏—è - 2026-02-09

## üì¶ –ó–∞–ø—É—à–µ–Ω–æ –Ω–∞ GitHub

**–í–µ—Ç–∫–∞:** `feature/latest-fixes`
**URL:** https://github.com/privatych/ai-chat-platform/tree/feature/latest-fixes
**Pull Request:** https://github.com/privatych/ai-chat-platform/pull/new/feature/latest-fixes

---

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 3 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–∞

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (FST_ERR_CTP_BODY_TOO_LARGE)
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å PDF/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á–µ–Ω bodyLimit –¥–æ 20MB
- **–§–∞–π–ª:** `services/api/src/app.ts`
- **–ö–æ–º–º–∏—Ç:** `45b6f38`

### 2. –£–¥–∞–ª–µ–Ω–∏–µ —á–∞—Ç–æ–≤ (FST_ERR_CTP_EMPTY_JSON_BODY)
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —á–∞—Ç–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ
- **–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞–Ω Content-Type –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –±–µ–∑ body
- **–§–∞–π–ª:** `apps/web/lib/api-client.ts`
- **–ö–æ–º–º–∏—Ç:** `dec2649`

### 3. –°–º–µ–Ω–∞ –º–æ–¥–µ–ª–∏ —Å attachments
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –≤ –º–æ–¥–µ–ª–∏ –±–µ–∑ vision
- **–†–µ—à–µ–Ω–∏–µ:** –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ —Å–º–µ–Ω–µ –º–æ–¥–µ–ª–∏
- **–§–∞–π–ª:** `apps/web/components/chat/MessageInput.tsx`
- **–ö–æ–º–º–∏—Ç:** `8b833eb`

---

## ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–æ —Ñ—É–Ω–∫—Ü–∏–π

### –ü—Ä–æ–µ–∫—Ç—ã –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- ‚úÖ Projects CRUD API
- ‚úÖ Context sections management
- ‚úÖ PDF text extraction –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úÖ Injection –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ AI –ø—Ä–æ–º–ø—Ç—ã
- ‚úÖ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (ProjectSelector, ContextEditor)

### –£–ª—É—á—à–µ–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ Redirect –¥–ª—è —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ Loading state –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ auth
- ‚úÖ –ì–∏–¥—Ä–∞—Ç–∞—Ü–∏—è –∏–∑ localStorage

### AI –º–æ–¥–µ–ª–∏
- ‚úÖ –§–ª–∞–≥–∏ supportsVision –∏ supportsFiles
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
- ‚úÖ Gemini 2.0 Flash, Claude 3.5 Sonnet, GPT-4 Turbo

### UI/UX —É–ª—É—á—à–µ–Ω–∏—è
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–æ–º–∞—à–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–æ–¥–µ–ª–∏ –≤ —á–∞—Ç–µ
- ‚úÖ Better responsive design

---

## üìù –í—Å–µ–≥–æ –∫–æ–º–º–∏—Ç–æ–≤: 15

```
1e2066a chore: update dependencies and build info
cd3d0d9 feat(api): add get messages endpoint
21ddb7b feat(db): add database scripts and migrations
fb15694 feat(projects): add projects and context management
73b7860 docs: add comprehensive documentation and testing guides
ac874ea feat(db): add attachments support to messages schema
679b0b1 feat(ui): improve homepage and chat interface
7bfa557 feat(models): update AI models list with vision/files support flags
a4624ed feat(auth): add redirect for authenticated users
f33a50f docs: update changelog with model switching fix
8b833eb fix(ui): auto-remove incompatible attachments on model change
07cb4ea docs: add changelog for 2026-02-09 fixes
dec2649 fix(api): fix DELETE requests failing with empty body error
45b6f38 fix(api): increase bodyLimit to 20MB for file uploads
7d6b39e docs: comprehensive fix report for PDF and file uploads
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ **CHANGELOG-2026-02-09.md** - –æ—Ç—á–µ—Ç –æ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö
- ‚úÖ **FILE_UPLOAD_FIX_REPORT.md** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ PDF/—Ñ–∞–π–ª–∞—Ö
- ‚úÖ **TESTING_GUIDE.md** - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ **AUTH_FIX_TEST.md** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ **MODEL_TESTING.md** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
- ‚úÖ **docs/plans/** - –ø–ª–∞–Ω—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£–¥–∞–ª–µ–Ω–∏–µ —á–∞—Ç–æ–≤ ‚úÖ
```
1. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π —á–∞—Ç
2. –¢—Ä–∏ —Ç–æ—á–∫–∏ ‚Üí –£–¥–∞–ª–∏—Ç—å
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ
4. ‚úÖ –ß–∞—Ç —É–¥–∞–ª—è–µ—Ç—Å—è
```

### –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ ‚úÖ
```
1. –ü—Ä–æ–µ–∫—Ç ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ PDF (–¥–æ 10MB)
3. ‚úÖ –§–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
```

### –°–º–µ–Ω–∞ –º–æ–¥–µ–ª–∏ ‚úÖ
```
1. –í—ã–±–µ—Ä–∏—Ç–µ Gemini 2.0 Flash
2. –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –Ω–∞ GPT-3.5 Turbo
4. ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É–¥–∞–ª–µ–Ω–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### GitHub
- [ ] –°–æ–∑–¥–∞—Ç—å Pull Request –∏–∑ `feature/latest-fixes` –≤ `main`
- [ ] –†–µ–≤—å—é –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –ú–µ—Ä–∂ –≤ main

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- [ ] Progress bar –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- [ ] PDF preview –≤ UI
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ base64
- [ ] –°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] Token-aware context limit

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| –ë–∞–≥–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ | 3 |
| –§—É–Ω–∫—Ü–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–æ | 12+ |
| –ö–æ–º–º–∏—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ | 15 |
| –§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ | 40+ |
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | +3000+ |
| –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã | ~2 —á–∞—Å–∞ |

---

## üöÄ –°–µ—Ä–≤–µ—Ä—ã

- **Frontend:** http://localhost:3000
- **API:** http://localhost:3001
- **GitHub:** https://github.com/privatych/ai-chat-platform

–û–±–∞ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –µ—â–µ 3 –±–∞–≥–∞:

#### 4. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ SSE streaming
- **–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∏ –æ—Ç API –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ `data.error` –≤ SSE stream
- **–§–∞–π–ª—ã:** `apps/web/lib/api-client.ts`, `services/api/src/routes/chat/message.ts`
- **–ö–æ–º–º–∏—Ç:** `065d66c`

#### 5. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ global error handler
- **–ü—Ä–æ–±–ª–µ–º–∞:** Zod validation errors –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏ –Ω–µ–∫—Ä–∞—Å–∏–≤—ã–µ 500 –æ—à–∏–±–∫–∏
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω global error handler –≤ Fastify
- **–§–∞–π–ª:** `services/api/src/app.ts`
- **–ö–æ–º–º–∏—Ç:** `f389b08`

#### 6. üîí –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –£–Ø–ó–í–ò–ú–û–°–¢–¨: JWT_SECRET –Ω–µ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–ª—Å—è
- **–ü—Ä–æ–±–ª–µ–º–∞:** JWT_SECRET –º–æ–≥ –±—ã—Ç—å undefined (security issue!)
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- **–§–∞–π–ª—ã:** 
  - `services/api/src/config/env.ts` (–Ω–æ–≤—ã–π)
  - `services/api/src/server.ts`
  - `services/api/src/plugins/jwt.ts`
  - `services/api/src/services/openrouter.ts`
- **–ö–æ–º–º–∏—Ç:** `e9acdcf`

---

## üìä –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–ë–∞–≥–æ–≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ** | **6** (3 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö + 3 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö) |
| **Security fixes** | 1 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π |
| **–§—É–Ω–∫—Ü–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–æ** | 12+ |
| **–ö–æ–º–º–∏—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ** | **19** |
| **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ** | 45+ |
| **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞** | +3100+ |

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –º–µ—Ä–∂—É

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø—É—à–µ–Ω—ã –≤ –≤–µ—Ç–∫—É `feature/latest-fixes`:
https://github.com/privatych/ai-chat-platform/tree/feature/latest-fixes

**Pull Request:**
https://github.com/privatych/ai-chat-platform/pull/new/feature/latest-fixes

