@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   CLASSIC MINIMAL THEME (ChatGPT-style)
   ============================================ */

:root {
  --sidebar-bg: 32, 33, 35;
  --sidebar-hover: 52, 53, 65;
  --main-bg: 255, 255, 255;
  --secondary-bg: 247, 247, 248;
  --border-color: 217, 217, 227;
  --text-primary: 13, 13, 13;
  --text-secondary: 102, 102, 102;
  --accent: 16, 163, 127;
}

.dark {
  --main-bg: 52, 53, 65;
  --secondary-bg: 68, 70, 84;
  --border-color: 86, 88, 105;
  --text-primary: 236, 236, 241;
  --text-secondary: 172, 172, 190;
}

/* ============================================
   BASE STYLES
   ============================================ */

body {
  color: rgb(var(--text-primary));
  background: rgb(var(--main-bg));
  font-family: 'Söhne', 'ui-sans-serif', 'system-ui', sans-serif;
}

/* ============================================
   SIDEBAR
   ============================================ */

.sidebar {
  background: rgb(var(--sidebar-bg));
}

.sidebar-item {
  padding: 0.75rem 0.875rem;
  border-radius: 0.5rem;
  cursor: pointer;
  transition: background-color 0.15s ease;
}

.sidebar-item:hover {
  background: rgb(var(--sidebar-hover));
}

.sidebar-item.active {
  background: rgb(var(--sidebar-hover));
}

/* ============================================
   CHAT AREA
   ============================================ */

.chat-container {
  background: rgb(var(--main-bg));
}

.message-row {
  padding: 1.5rem 0;
  border-bottom: 1px solid rgb(var(--border-color) / 0.5);
}

.message-row:last-child {
  border-bottom: none;
}

.message-row.user {
  background: rgb(var(--main-bg));
}

.message-row.assistant {
  background: rgb(var(--secondary-bg));
}

.dark .message-row.assistant {
  background: rgb(68, 70, 84);
}

/* ============================================
   INPUT AREA
   ============================================ */

.input-container {
  background: rgb(var(--main-bg));
  border-top: 1px solid rgb(var(--border-color) / 0.5);
}

.chat-input {
  background: rgb(var(--main-bg));
  border: 1px solid rgb(var(--border-color));
  border-radius: 0.75rem;
  padding: 0.75rem 1rem;
  font-size: 1rem;
  line-height: 1.5;
  resize: none;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.chat-input:focus {
  outline: none;
  border-color: rgb(var(--accent));
  box-shadow: 0 0 0 1px rgb(var(--accent) / 0.2);
}

.dark .chat-input {
  background: rgb(64, 65, 79);
  border-color: rgb(86, 88, 105);
  color: rgb(var(--text-primary));
}

.dark .chat-input:focus {
  border-color: rgb(var(--accent));
}

/* ============================================
   BUTTONS
   ============================================ */

.btn-primary {
  background: rgb(var(--accent));
  color: white;
  font-weight: 500;
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  transition: opacity 0.15s ease;
}

.btn-primary:hover {
  opacity: 0.9;
}

.btn-primary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-secondary {
  background: rgb(var(--secondary-bg));
  color: rgb(var(--text-primary));
  font-weight: 500;
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  border: 1px solid rgb(var(--border-color));
  transition: background-color 0.15s ease;
}

.btn-secondary:hover {
  background: rgb(var(--border-color) / 0.5);
}

.btn-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  border-radius: 0.375rem;
  color: rgb(var(--text-secondary));
  transition: background-color 0.15s ease, color 0.15s ease;
}

.btn-icon:hover {
  background: rgb(var(--border-color) / 0.5);
  color: rgb(var(--text-primary));
}

/* ============================================
   SCROLLBARS
   ============================================ */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--border-color));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--text-secondary));
}

/* ============================================
   ANIMATIONS
   ============================================ */

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease forwards;
}

/* Typing indicator */
@keyframes pulse {
  0%, 100% { opacity: 0.4; }
  50% { opacity: 1; }
}

.typing-dot {
  animation: pulse 1.4s ease-in-out infinite;
}

.typing-dot:nth-child(1) { animation-delay: 0s; }
.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }

/* ============================================
   CODE BLOCKS
   ============================================ */

.message-content pre {
  background: rgb(var(--sidebar-bg));
  border-radius: 0.5rem;
  padding: 1rem;
  overflow-x: auto;
  margin: 1rem 0;
}

.message-content code {
  font-family: 'Söhne Mono', 'Monaco', 'Andale Mono', monospace;
  font-size: 0.875rem;
}

.message-content p code {
  background: rgb(var(--secondary-bg));
  padding: 0.125rem 0.375rem;
  border-radius: 0.25rem;
  font-size: 0.875em;
}

.dark .message-content p code {
  background: rgb(var(--sidebar-hover));
}

/* ============================================
   DROPDOWN MENU
   ============================================ */

.dropdown-menu {
  background: rgb(var(--main-bg));
  border: 1px solid rgb(var(--border-color));
  border-radius: 0.5rem;
  box-shadow: 0 4px 12px rgb(0, 0, 0 / 0.15);
}

.dark .dropdown-menu {
  background: rgb(var(--sidebar-hover));
  border-color: rgb(var(--border-color));
}

.dropdown-item {
  padding: 0.625rem 0.875rem;
  cursor: pointer;
  transition: background-color 0.15s ease;
}

.dropdown-item:hover {
  background: rgb(var(--secondary-bg));
}

.dark .dropdown-item:hover {
  background: rgb(86, 88, 105);
}

/* ============================================
   FORM ELEMENTS
   ============================================ */

.form-input {
  background: rgb(var(--main-bg));
  border: 1px solid rgb(var(--border-color));
  border-radius: 0.5rem;
  padding: 0.75rem 1rem;
  font-size: 1rem;
  transition: border-color 0.15s ease;
}

.form-input:focus {
  outline: none;
  border-color: rgb(var(--accent));
}

.dark .form-input {
  background: rgb(64, 65, 79);
  border-color: rgb(86, 88, 105);
  color: rgb(var(--text-primary));
}

/* ============================================
   CARDS
   ============================================ */

.card {
  background: rgb(var(--main-bg));
  border: 1px solid rgb(var(--border-color));
  border-radius: 0.75rem;
}

.dark .card {
  background: rgb(var(--sidebar-hover));
  border-color: rgb(var(--border-color));
}

/* ============================================
   MODEL INDICATOR
   ============================================ */

.model-gpt { color: #10a37f; }
.model-claude { color: #d4a373; }
.model-gemini { color: #4285f4; }
.model-deepseek { color: #8b5cf6; }
.model-grok { color: #ffffff; }

/* ============================================
   UTILITIES
   ============================================ */

.text-balance {
  text-wrap: balance;
}

/* Remove default transitions for reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
